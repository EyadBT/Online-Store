{% extends "base.html" %}
{% block title %}Trending Products{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">
        ðŸ”¥ Trending Products ({{ period|title }})
    </h2>

    
    <div class="mb-3">
        <a href="{% url 'store:trending_products' 'day' %}" class="btn btn-sm btn-outline-primary">Today</a>
        <a href="{% url 'store:trending_products' 'week' %}" class="btn btn-sm btn-outline-primary">This Week</a>
        <a href="{% url 'store:trending_products' 'month' %}" class="btn btn-sm btn-outline-primary">This Month</a>
    </div>

    {% if recommendations %}
    <div class="row">
        {% for rec in recommendations %}
        <div class="col-md-3 mb-3">
            <div class="card h-100">
                {% if rec.image %}
                <img src="{{ rec.image.url }}" class="card-img-top" style="height:150px; object-fit:cover;" alt="{{ rec.name }}">
                {% else %}
                <div class="bg-light text-center d-flex align-items-center justify-content-center" style="height:150px;">
                    <i class="fas fa-box fa-2x text-muted"></i>
                </div>
                {% endif %}
                <div class="card-body">
                    <h6 class="card-title">{{ rec.name }}</h6>
                    <p class="text-muted small">{{ rec.category }}</p>
                    <p class="mb-1"><strong>Sold:</strong> {{ rec.sold }}</p>
                    <a href="{% url 'store:product_detail' rec.id %}" class="btn btn-sm btn-primary">View</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info">
        <i class="fas fa-info-circle"></i> No trending products for this period.
    </div>
    {% endif %}
</div>
{% endblock %}
